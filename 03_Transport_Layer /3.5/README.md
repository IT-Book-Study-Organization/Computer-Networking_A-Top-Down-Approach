## 3.5 연결 지향 전송: TCP
- TCP는 인터넷의 전송 계층에서 연결 지향적으로 신뢰할 수 있는 전송 프로토콜임.
- 이번장에서는 TCP가 신뢰할 수 있는 데이터 전송을 제공하기 위해 오류 감지, 재전송, 누적 확인, 타이머, 순서 및 확인 번호를 위한 헤더필요를 어떻게 확인하는지 알아봄

### 3.5.1 TCP 연결
- TCP는 연결 지향적 프로토콜로, 데이터 전송 이전에 두 프로세스 간에 "핸드세이크"가 필요
- 이 과정에서 초기 세그먼트를 주고받아 데이터 전송의 매개변수를 설정함
- 클라이언트와 서버 양쪽에서 TCP 상태 변수를 초기화함
- TCP 연결은 논리적인 것으로 두 끝 시스템의 TCP에만 공통 상태가 존재
- TCP는 전이 중 서비스로 한 호스트의 프로세스 A와 다른 호스트의 프로세스 B간에 TCP 연결이 존재한다면, 애플리케이션 계층 데이터는 A->B, B->A 이렇게 양방향 가능
- 근데 TCP는 단일 송신자와 수신자 간에만 이루어짐
- 클라이언트가 TCP 세그먼트를 전송 -> 서비가 두 번째 특별한 TCP 세그먼트로 응답 -> 클라이언트가 세 번째 특별한 세그먼트로 응답 이 과정을 handshake라고 함
- 첫번째와 두번째 세그먼트는 페이로드를 포함하지 않으며 애플리케이션 계층 데이터도 없음. 세번째는 페이로드 포함 가능
- 다시말해 두 호스트간에 세 개의 세그먼트가 전송되기 때문에 3-way handshake 라고함!
- ![image](https://github.com/user-attachments/assets/700f5923-63cc-45ed-be21-7ae685bf1d71)
- 클라이언트 프로세스에서 서버 프로세스로 데이터를 전송한다고 가정하자.
  - 1) 클라이언트 프로세스가 소켓을 통해 데이트 스트림을 전달
    2) 데이터가 소켓을 통과하면 송신 버퍼로 전송함(3-way handshake 중에 설정된 버퍼임)
    3) 여기서 가져와서 세그먼트에 배치할 수 있는 최대 데이터 양은 최대 세그먼트 크기(MSS)로 제한함.
    4) MSS는 로컬 송신 호스트가 전송할 수 있는 최대 링크 계층 프레임의 길이(MTU)를 결정한 후 TCP 세그먼트와 TCP/IP 헤더길이(40 바이트)가 단일 계층 프레임에 들어갈수 있도록 MSS를 설정함.
       이를테면 MTU는 1500 바이트 이고 MSS의 일반적인 값은 1460 바이트임
       ![image](https://github.com/user-attachments/assets/6aaa9b49-aa91-431f-9526-fbad726ca871)

    5) TCP는 클라이언트 데이터의 각 청크에 TCP 헤더를 쌍으로 묶어서 TCP 세그먼트를 형성함.
    6) 네트워크 계층으로 가서 IP 데이터그램에 의해서 캡슐화됨 그런 후 IP 다이어그램은 네트워크로 전송됨.
    7) 반대로 TCP가 반대편에서 세그먼트를 수신하면, 세그먼트의 데이터는 TCP 연결의 수신 버퍼에 저장됨
    8) 애플리케이션 이 버퍼에서 데이터 스트림을 읽게됨.
   
 ### 3.5.2 TCP 세그먼트 구조 3.5.3 까지 하겠습니다!! 아니면 상윤이형 readme하나 더만들어서 거기에 이어서 해주셔도 되요!..
