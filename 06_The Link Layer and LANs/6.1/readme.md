# 6.1 링크 계층 소개 

### 노드
: 링크(2계층) 프로토콜을 실행하는 모든 장치. 노드에는 호스트, 라우터, 스위치가 포함됨
### 링크
: 통신 경로를 따라 노드들을 연결하는 통신 채널. 데이터그램을 출발지에서 목적지 호스트로 전송할 때 링크를 통해 이동해야 됨. 

![image](https://github.com/user-attachments/assets/f0dd576e-49cb-44e9-b3d9-248298146fb4)
### 예를 들어 회사네트워크에서 무선 호스트 중 하나에서 서버 중 하나로 데이터그램을 보내는 경우를 고려.<br>
-> 데이터그램은 실제로 6개의 링크를 통과하게 된다<br>
> 1 송신 호스트와 WiFi 액세스 포인트 사이의 WiFi 링크<br>
2 액세스 포인트와 링크 계층 스위치 사이의 이더넷 링크<br>
3 링크 계층 스위치와 라우터 사이의 링크<br>
4 두 라우터 사이의 링크<br>
5 라우터와 링크 계층 스위치 사이의 이더넷 링크<br>
6 스위치와 서버 사이의 이더넷 링크<br>
> 주어진 링크에서 전송 노드는 데이터그램을 링크 계층 프레임으로 캡슐화하고 이 프레임을 링크로 전송함. 

### 링크 계층과 네트워크 계층과 관련을 교통 비유로 들어 설명.<br>
뉴저지 주 -> 스위스로 여행하는 관광객을 위해 계획하는 여행사가 있다.<br>
여행사는 관광객이 출발~목적지까지의 리무진, 비행기, 기차 수단을 결정한다.<br>
교통 구간(목적지까지의 각 여행 경로) = **링크** <br>
교통 수단(리무진, 비행기, 기차 수단) = **링크 계층 프로토콜**<br>
여행사 = **라우팅 프로토콜** <br>

---

# 6.1 링크 계층이 제공하는 서비스

#### 1) 프레이밍
: 링크 계층 프로토콜은 전송하기 전에 데이터그램을 링크 계층 프레임 내에 **캡슐화**한다. (프레임: 네트워크 데이터그램이 삽입되는 데이터필드와 여러 헤더 필드)

#### 2) 링크 접근
: 매체 접근 제어(MAC) 프로토콜은 프레임이 링크로 전송되는 규칙을 지정한다. 점대점링크(한쪽에 단일 송신자, 다른 쪽에 단일 수신자)인 경우 송신자는 링크가 유휴 상태일때마다 프레임을 보낼 수 있음. mac프로토콜을 이때 여러 노드의 프레임 전송을 조정하는 역할을 하는것. 

#### 3) 신뢰할 수 있는 전달
링크 계층 프로토콜은 각 네트워크 데이터그램을 오류없이 링크를 통해 이동시킬 것을 보장한다(확인응답과 재전송). 무선 링크에서 자주 사용됨. 

#### 4) 오류 감지 및 수정
전송 노드가 프레임에 오류 감지 비트를 포함시키고, 수신 노드가 오류 검사를 수행하는 방식으로 이루어짐. 오류가 발생한 위치를 결정하고 이를 수정함. 

---

# 6.1.2 링크 계층은 어디에서 구현되는가?

![image](https://github.com/user-attachments/assets/41d16f57-63e5-4303-95db-79580d8502f6)

#### 컨트롤러: 
프로토콜 스택의 상위 계층에서 생성되어 호스트 메모리에 데이터그램을 가져와 링크 계층 프레임으로 캡슐화하고, 링크 프로토콜에 따라 통신 링크로 프레임을 전송한다. 
수신측에서는 컨트롤러가 전체 프레임을 수신하고 네트워크 계층 데이터그램을 추출한다.

그림 6.2는 링크 계층의 대부분이 하드웨어로, 일부는 호스트의 CPU에서 실행되는 소프트웨어로 구현됨





