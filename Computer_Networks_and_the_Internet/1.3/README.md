### 1.3.1 패킷 스위칭

- **패킷**: 출발 종단 시스템에서 목적지 종단 시스템으로 메시지를 보내기 위해, 긴 메시지를 더 작게 나눈 데이터 조각
- **패킷 이동 경로**: 출발지에서 목적지까지 각 패킷은 통신 링크 및 패킷 스위치를 통과하며 이동
- **패킷 스위치의 주요 유형**: 라우터, 링크 계층 스위치
- **패킷 전송 속도**:
  - 각 패킷은 통신 링크에서 해당 링크의 전송 속도와 동일한 속도로 전송
  - 전송 시간 계산: L 비트 크기의 패킷을 R 비트/초의 링크를 통해 전송하는 경우, 전송 시간은 \( L / R \) 초

### Store-and-Forward Transmission

- **개념**: 패킷 스위치는 패킷을 다음 링크로 전송하기 전에 전체 패킷을 먼저 수신해야 함.
- **전송 시간 계산**: \( L \) 비트 크기의 패킷이 \( R \) 비트/초의 링크를 통해 전송될 경우, 전송 시간은 \( L / R \) 초.
- **전송 과정**:
  - 예를 들어, 출발지와 목적지 사이에 하나의 라우터와 두 개의 링크가 있다고 가정:
    1. 첫 번째 링크를 통해 라우터로 패킷이 전송.
    2. 라우터가 전체 패킷을 수신한 뒤, 다음 링크로 전송 시작.
    3. 목적지가 패킷을 수신.
- **지연 누적**: 각 링크에서 발생하는 전송 시간을 더한 값.
- **특징**:
  - 모든 링크와 스위치에서 동일한 store-and-forward transmission을 사용.
  - 큐잉 지연 및 기타 지연 요소는 별도로 계산.

### Queuing Delays and Packet Loss

- **Queuing Delay**:
  - 패킷이 링크로 전송되기 전에 큐(버퍼)에 대기하는 시간.
  - 큐에 도착한 패킷이 링크가 사용 중이거나 앞선 패킷이 전송 중일 경우에 지연이 발생.
  - 큐잉 지연은 가변적이며, 네트워크 트래픽 강도와 도착 패킷의 성격에 따라 달라짐.
    - 큐가 비어있을 경우: 지연 없음.
    - 트래픽이 많을 경우: 큐잉 지연 증가.
- **트래픽 강도**:
  - 큐잉 지연은 트래픽 강도에 크게 의존:
    - 트래픽 강도는 다음과 같이 계산:
      - 트래픽 강도 = (평균 패킷 도착률 \( La \)) ÷ (링크 전송 속도 \( R \))  
    - 조건별 설명:
      - \( La / R > 1 \):  
        패킷 도착 속도가 링크의 전송 속도를 초과 → 큐가 지속적으로 증가하며 무한 지연 가능.
      - \( La / R = 1 \):  
        패킷 도착 속도가 링크의 처리 속도와 동일 → 큐가 가득 차기 시작할 가능성이 있음.
      - \( La / R < 1 \):  
        패킷 도착 속도가 링크 처리 범위 내 → 지연이 상대적으로 적음.
- **Queuing Delay의 특성**:
  - 도착 패킷의 간격이 규칙적이면 지연이 적으나, 도착 패킷이 일시적으로 몰릴 경우(버스트 트래픽)에는 지연 시간이 증가.
- **Packet Loss**:
  - 큐 용량 초과: 큐가 가득 찬 상태에서 추가 패킷이 도착하면 해당 패킷은 손실됨.
  - 손실된 패킷은 네트워크에서 사라지며, 목적지에 도달하지 못함.
  - 패킷 손실은 트래픽 강도가 높아질수록 증가함.
- **성과 측정**:
  - 네트워크의 성능은 Queuing Delay과 Packet Loss로 평가함.
  - 패킷 손실을 줄이기 위해 End-to-End Retransmission 사용.

### Forwarding Tables and Routing Protocols

- **패킷 전달**:
  - 라우터는 도착한 패킷을 적절한 링크로 전달하기 위해 Forwarding Tables을 사용.
  - 각 패킷은 목적지 주소를 포함하며, 라우터는 이 주소를 기반으로 Forwarding Tables을 조회.
- **Forwarding Tables**:
  - 목적지 주소(또는 주소의 범위)를 라우터의 출발 링크에 매핑.
  - 라우터는 패킷의 목적지 주소를 테이블에서 찾아 알맞은 링크로 패킷을 전달.
- **Routing Protocols**:
  - Forwarding Tables은 수동으로 설정되지 않으며, Routing Protocols에 의해 자동으로 설정.
  - Routing Protocols은 네트워크 내 최적 경로를 계산하여 테이블을 갱신.
